-- game https://www.roblox.com/games/13772394625/Blade-Ball

--[[

  mmmm   mmmmm   mm   m   mmmm     mm    mm   m  mmmmmm
 #"   "    #     #"m  #  #"   "    ##    #"m  #  #     
 "#mmm     #     # #m #  "#mmm    #  #   # #m #  #mmmmm
     "#    #     #  # #      "#   #mm#   #  # #  #     
 "mmm#"  mm#mm   #   ##  "mmm#"  #    #  #   ##  #mmmmm

--]]

-- // Library // --
local main_module=loadstring(game:HttpGet('https://raw.githubusercontent.com/Sinscrips/source_scripts/main/main_module_v2.lua', true))()
local library=main_module['Library']
local functions=main_module['Functions']
local esp=main_module['Esp']
local aimbot=main_module['Aimbot']
local message=main_module['Message']
local Keybind=main_module['Keybind']
local uis=game:GetService('UserInputService')
local cls=game:GetService('CollectionService')

-- // Variables // --
local _plr=game.Players.LocalPlayer;
local _char=_plr.Character or _plr.CharacterAdded:Wait();
local _hum=_char:WaitForChild('Humanoid');

getgenv()._client={ 
    Abilities={ };
};

getgenv()._shared={
};

getgenv()._assets={
    Alive=game.Workspace.Alive;
    Dead=game.Workspace.Dead;
};

local _settings={
    Game={

    };
    Player={
        WalkSpeed=36;
        Cooldown=false;
    };
};

-- // Functions // --
function _client:onSpawn()
    print('spawning')
    wait(1)
    for i,v in next,getgc() do
        local source=string.match(getinfo(v).source,'%a+$')
        if getinfo(v).name=='ability' then
            setupvalue(v,2,{Character={Parent=_assets.Alive;GetDescendants=function() return _char:GetDescendants() end};Upgrades={[source]={Value=_settings.Player.Cooldown and 100 or 1}}})
        end
    end
    _hum.WalkSpeed=_settings.Player.WalkSpeed
    print('new abilities added')
end

function _client:Initialize()
    self:onSpawn()
end

-- // GUI Frame 1 // --
local Frame1=library:AddFrame({name='Plr Hax'})

Frame1:AddButton('Reset',function()
    _hum.Health=0
end)

Frame1:AddToggle('Disable Ability Cooldown',function(v1)
    _settings.Player.Cooldown=v1
    for i,v in next,getgc() do
        local source=string.match(getinfo(v).source,'%a+$')
        if getinfo(v).name=='ability' then
            getupvalue(v,2).Upgrades[source].Value=v1 and 100 or 1
            if v1 then
                setupvalue(v,1,true)
            end
        end
    end
end)

Frame1:AddBox('WalkSpeed',function(v1)
    _settings.Player.WalkSpeed=tonumber(v1) or 36
    _plr.Character.Humanoid.WalkSpeed=tonumber(v1) or 36
end)

Frame1:AddBox('Gravity',function(v1)
    game.Workspace.Gravity=tonumber(v1) or 196.2
end)

-- // Keybinds // --
Keybind:NewBind(Enum.KeyCode.RightShift, function() -- Library Keybind
    library:Toggle();
end)
Keybind:NewBind(Enum.KeyCode.P, function() -- Library Keybind
    library:Toggle();
end)

-- // Events // --
_plr.CharacterAdded:Connect(function()
    _char=_plr.Character or _plr.CharacterAdded:Wait()
    _hum=_char:WaitForChild('Humanoid')
    _client:onSpawn()
end)

-- // Metatables // --
local m=getrawmetatable(game)
local __index=m.__index
local __namecall=m.__namecall
local __newindex=m.__newindex
local __call=m.__call

setreadonly(m, false)

_client:Initialize()