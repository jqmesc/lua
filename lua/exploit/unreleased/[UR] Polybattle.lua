-- game https://www.roblox.com/games/4716045691/Fixes-POLYBATTLE

local main_module = loadstring(game:HttpGet('https://raw.githubusercontent.com/Sinscrips/source_scripts/main/main_module_v2.lua', true))()
local library = main_module['Library']
local esp = main_module['Esp']
local aimbot = main_module['Aimbot']
local uis = game:GetService('UserInputService')
local cls = game:GetService('CollectionService')

local _plr = game.Players.LocalPlayer

local _client = { }
local _shared = { 
    weapon_list = game.ReplicatedStorage.Stuff.Weapons;
}

function _client:EditCurrentWeapon(v1, v2)
    if _plr.Character.Parent then

        local _folder = _plr.Character:FindFirstChildOfClass('Folder')
        local config = require(_folder.config)
        local weapon_info = require(_shared.weapon_list:FindFirstChild(_folder.Name).config)

        if not config['GUN'] then return end

        if tostring(v2):lower() == 'default' then
            v2 = weapon_info[v1]
        end

        config[v1] = v2

        print(config[v1], weapon_info[v1])


    end
end

-- // GUI Frame 1 // --
local Frame1 = library:AddFrame({name='Weapon Modifications'})


Frame1:AddToggle('Inf Ammo', function(v1)
    _client:EditCurrentWeapon('AMMO', v1 and math.huge or 'default')
end)

Frame1:AddToggle('Disable Fire Delay', function(v1)
    _client:EditCurrentWeapon('RPM', v1 and 2000 or 'default')
end)

Frame1:AddToggle('Disable Recoil', function(v1)
    _client:EditCurrentWeapon('RECOIL', v1 and 0 or 'default')
end)

Frame1:AddToggle('Insta ADS', function(v1)
    _client:EditCurrentWeapon('ADS_SPEED', v1 and 0.2 or 'default')
end)

Frame1:AddToggle('Insta Reload', function(v1)
    _client:EditCurrentWeapon('RELOAD_LENGTH', v1 and 0.01 or 'default')
end)