local _plr = game.Players.LocalPlayer
local uis = game:GetService('UserInputService')

uis.InputBegan:Connect(function(key)
    if key.KeyCode == Enum.KeyCode.F then
        local _bodyVelocity = Instance.new('BodyVelocity', _plr.Character.HumanoidRootPart)
        repeat wait()
            
            local cam = game.Workspace.CurrentCamera.CFrame
            
            local v1 = Vector3.new()
            
            if uis:IsKeyDown(Enum.KeyCode.W) then
                v1 = v1 + Vector3.new(cam.LookVector.X, 0, cam.LookVector.Z)
            end
            if uis:IsKeyDown(Enum.KeyCode.S) then
                v1 = v1 - Vector3.new(cam.LookVector.X, 0, cam.LookVector.Z)
            end
            if uis:IsKeyDown(Enum.KeyCode.D) then
                v1 = v1 + Vector3.new(cam.RightVector.X, 0, cam.RightVector.Z)
            end
            if uis:IsKeyDown(Enum.KeyCode.A) then
                v1 = v1 - Vector3.new(cam.RightVector.X, 0, cam.RightVector.Z)
            end
            if uis:IsKeyDown(Enum.KeyCode.Space) then
                v1 = v1 + Vector3.new(0, 1, 0)
            end
            if uis:IsKeyDown(Enum.KeyCode.LeftControl) then
                v1 = v1 - Vector3.new(0, .5, 0)
            end
            if uis:IsKeyDown(Enum.KeyCode.LeftShift) then
				v1 = v1 + Vector3.new(cam.LookVector.X, 0, cam.LookVector.Z)*10
			end

            _bodyVelocity.Velocity = v1 * 100
            
        until not uis:IsKeyDown(Enum.KeyCode.F)
        _bodyVelocity:Destroy()
    end
    
end)

warn('Fly Executed')