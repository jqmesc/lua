-- game https://www.roblox.com/games/273735085/RooM-V2-03-9

local main_module = loadstring(game:HttpGet('https://raw.githubusercontent.com/Sinscrips/source_scripts/main/main_module_v2.lua', true))()
local library = main_module['Library']
local esp = main_module['Esp']
local aimbot = main_module['Aimbot']
local message = main_module['Message']
local uis = game:GetService('UserInputService')
local cls = game:GetService('CollectionService')

-- // Game Variables // --
local _plr = game.Players.LocalPlayer;

local _client = { --Client (must be updated on spawn)
    Movement = getsenv(_plr.PlayerGui.MovementV2);
}
local _shared = {  --Game
    AimFolder = { };
    EspFolder = { };
    Map = game.Workspace:WaitForChild('Map');
    Enemies = game.Workspace:WaitForChild('ACTORS');
    Items = game.Workspace:WaitForChild('THINGS');
    Events = game.ReplicatedStorage:WaitForChild('ServerEvents');
}
local _settings = { --Script
    JumpMult = 1;
    SpeedMult = 1;
    Custom_Physics = {
        Active = true;
        InfJump = false;
        PosForce = 8000;
        Gravity = -5000;
    }
}
local _hooks = { 
    WalkSpeed = { };
}

-- // Functions // --
function initialize()
    _client:Update();
    _client:OverwritePhysics();
end
function _client:Update()
    _client.Movement = getsenv(_plr.PlayerGui.MovementV2)
    _hooks.WalkSpeed = hookfunc(_client.Movement.getMovementVelocity, function(v1, v2, v3)
        return _hooks.WalkSpeed(v1, v2*_settings.SpeedMult, v3*_settings.SpeedMult)
    end)
end
function _client:OverwritePhysics()
    if _settings.Custom_Physics['Active'] then
        local hrp = _plr.Character.HumanoidRootPart
        
        game.Workspace.Gravity = 0;
        hrp.gravityForce.Force = Vector3.new(0,_settings.Custom_Physics.Gravity,0);
        setupvalue(_client.Movement.init, 20, _settings.Custom_Physics.PosForce);
    end
end
function _shared:Chat(v1)
    self.Events.ChatIO:FireServer(v1)
end


-- // Keybinds // --
uis.InputBegan:connect(function(key)
    if key.KeyCode == Enum.KeyCode.RightShift then
        library:Toggle();
    elseif key.KeyCode == Enum.KeyCode.Space then
        if not _settings.Custom_Physics['InfJump'] and not _client.Movement.findCollisionRay() then
            warn('Custom Physics: Jump Prevented')
        else
            _client.Movement.jump();
        end
    end
end)

local Frame1 = library:AddFrame({name='Custom Physics'})

Frame1:AddToggle('Inf Jump', function(v1)
    _settings.Custom_Physics.InfJump = v1
end)

local SpeedConstant = 1;
Frame1:AddBox('Speed Multiplier',  function(v1)
    _settings.SpeedMult = SpeedConstant * (tonumber(v1) or 1);
end)

local JumpConstant = 60;
Frame1:AddBox('Jump Multiplier',  function(v1)
    _settings.JumpMult = tonumber(v1) or 1;
    setupvalue(_client.Movement.jump, 2, JumpConstant * (tonumber(v1) or 1));
end)

local GravityConstant = -5000;
Frame1:AddBox('Gravity Multiplier',  function(v1)
    _settings.Custom_Physics.Gravity = GravityConstant * (tonumber(v1) or 1);
    _client:OverwritePhysics();
end)

Frame1:AddSwitch('Outfit Color', {'Blue', 'Red', 'Green', 'Purple', 'Pink', 'Yellow'}, function(v1)
    local colors = {
        Blue = Color3.fromRGB(0, 0, 255);
        Red = Color3.fromRGB(255, 0, 0);
        Green = Color3.fromRGB(0, 255, 0);
        Purple = Color3.fromRGB(115, 80, 146);
        Pink = Color3.fromRGB(255, 0, 255);
        Yellow = Color3.fromRGB(255, 255, 0);
    }
    _settings.Outfit = colors[v1];
    _plr.Character.Color.Value = colors[v1];
end)

_plr.CharacterAdded:connect(function(c)
    c:WaitForChild('Humanoid')
    _client:Update();
    if _settings.Custom_Physics['Active'] then
        _client:OverwritePhysics();
    end
end)

initialize();